name: "Premier League Bot"
on:
  schedule:
    - cron: "*/12 0-7,14-23 * * *"
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Use Node.js
        uses: actions/setup-node@v4
        with:
          node-version-file: ".nvmrc"
      - run: npm ci
      - run: npm run build
      - name: Send post
        run: npm start
        env:
          BSKY_HANDLE: "premierleaguebot.bsky.social"
          BSKY_PASSWORD: ${{ secrets.PREMIER_LEAGUE_BSKY_PASSWORD }}
          MASTODON_HANDLE: "@premierleague@sportsbots.xyz@sportsbots.xyz"
          MASTODON_ACCOUNT_ID: "110252020252170045"
          ALTERNATE_CARD_IMAGE: "https://pbs.twimg.com/profile_images/1742837199005954048/YGI6Kw7P_400x400.jpg"
